/* تحسين متغيرات CSS للجمالية والاحترافية */
:root{
  --bg1: #1a237e; /* Deep Indigo */
  --bg2: #303f9f; /* Medium Indigo */
  --accent-main: #ffab00; /* Amber Yellow for actions */
  --accent-secondary: #e74c3c; /* Red (for Errors) */
  --card-bg: rgba(255, 255, 255, 0.1);
  --card-border: rgba(255, 255, 255, 0.3);
  --input-bg: rgba(0, 0, 0, 0.2);
  --text-color: #ffffff;
  --shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
}
/* تنسيق أساسي */
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Inter', system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
  direction:rtl;
  background:linear-gradient(135deg,var(--bg1),var(--bg2));
  color:var(--text-color);
  min-height:100vh;
  padding:20px;
}
.container{max-width:650px;margin:0 auto;display:flex;flex-direction:column;gap:25px}

.header{padding:15px 0;text-align:center}
.brand{display:flex;align-items:center;justify-content:center;gap:12px}
.brand h1{margin:0;font-size:1.8rem;font-weight:700;color:var(--accent-main)}

/* صندوق التعليمات الجديد */
.instructions-box{
  background:rgba(255, 171, 0, 0.15); /* Light Amber Background */
  padding:15px 20px;
  border-radius:12px;
  border:1px solid var(--accent-main);
  box-shadow:var(--shadow);
  margin-bottom: 20px;
}
.instructions-box h2{font-size:1.4rem;margin-top:0;color:var(--accent-main)}
.instructions-box p{margin-bottom:10px;font-size:0.95rem;line-height:1.6}
.warning{color:#ffecb3;font-weight:700;margin-top:10px;text-align:center;font-size:0.9rem;}

/* لوحة التنبيه الجديدة */
.zero-payment-alert {
    background: #00e676; /* Vibrant Green */
    color: #1a237e;
    padding: 15px;
    border-radius: 12px;
    text-align: center;
    font-weight: 700;
    font-size: 1.1rem;
    margin-bottom: 20px;
    box-shadow: 0 4px 10px rgba(0, 230, 118, 0.5);
}

.payment-section{
  background:var(--card-bg);
  padding:25px;
  border-radius:12px;
  border:1px solid var(--card-border);
  box-shadow:var(--shadow);
}

/* قسم ملخص الطلب */
.order-summary{
    background:rgba(255, 255, 255, 0.05);
    padding:15px;
    border-radius:8px;
    margin-bottom: 20px;
    border-left: 5px solid var(--accent-main);
}
.summary-row{display:flex;justify-content:space-between;padding:5px 0;font-size:1rem;}
.summary-row.total{font-weight:700;font-size:1.2rem;border-top:1px dashed rgba(255, 255, 255, 0.3);margin-top:10px;padding-top:10px;}
.summary-row.total .price-label {color: #00e676; font-size: 1.4rem;}

/* حقول النموذج */
.form-group{margin-bottom:15px;}
.form-row{display:flex;gap:15px;}
.form-row > div{flex:1;}

label{display:block;margin-bottom:8px;font-weight:600;font-size:1rem}
select, input[type=text], input[type=password], input[type=number]{
  width:100%;
  padding:12px;
  border-radius:8px;
  border:1px solid var(--card-border);
  background:var(--input-bg);
  color:var(--text-color);
  font-size:1rem;
  appearance: none;
}
select{
    background: var(--input-bg) url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="10" height="6" viewBox="0 0 10 6"><path fill="%23ffffff" d="M0 0l5 6 5-6z"/></svg>') no-repeat right 15px center;
    padding-right: 35px;
}

/* قسم صور البطاقة */
.images-capture{
    margin-top: 25px;
    padding-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}
.capture-title{font-size:1.2rem;font-weight:700;margin-bottom:15px;color:#00e676;} /* Vibrant Green */

.images{display:flex;gap:20px;flex-wrap:wrap}
.image-field{flex:1;min-width:280px;}

.controls input[type=file]{opacity:0;position:absolute;z-index:-1}

.capture-btn{
  background:linear-gradient(90deg,#00e676,#00c853); /* Green Capture Button */
  border:none;
  padding:10px 15px;
  border-radius:8px;
  color:#1a237e;
  font-weight:700;
  cursor:pointer;
  flex:1;
  transition:transform 0.2s, box-shadow 0.2s;
}
.capture-btn:hover{transform:translateY(-2px);box-shadow:0 4px 10px rgba(0, 230, 118, 0.4);}

.preview{
  margin-top:10px;
  background:var(--input-bg);
  border:2px dashed var(--card-border);
  border-radius:8px;
  color:rgba(255, 255, 255, 0.7);
  padding:8px;
  min-height:160px;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  position:relative;
  text-align: center;
  font-size: 0.9rem;
}
.preview img{
  max-width:100%;
  max-height:100%;
  object-fit:contain;
  border-radius:4px;
  box-shadow:0 2px 8px rgba(0, 0, 0, 0.3);
}

.actions{display:flex;align-items:center;gap:15px;margin-top:30px}
#submitBtn{
  background:linear-gradient(90deg,var(--accent-main),#ff6f00); /* Amber Gradient */
  border:none;
  padding:15px 25px;
  border-radius:10px;
  font-weight:700;
  font-size:1.1rem;
  color:#1a237e;
  cursor:pointer;
  transition:opacity 0.3s, transform 0.2s;
  box-shadow:0 4px 15px rgba(255, 171, 0, 0.5);
}
#submitBtn:disabled{opacity:0.5;cursor:not-allowed;transform:none;box-shadow:none;}
#submitBtn:hover:not(:disabled){transform:scale(1.02);}

.loader{width:28px;height:28px;border-radius:50%;border:4px solid rgba(255,255,255,0.2);border-top-color:var(--accent-main);animation:spin 1s linear infinite}
.hidden{display:none !important}

.result{margin-top:20px;padding:15px;border-radius:8px;font-weight:500}
.result.success{background:rgba(0, 230, 118, 0.8);color:#1a237e;font-weight:700;}
.result.error{background:rgba(231, 76, 60, 0.8);color:#fff}

/* Modal Styles */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.8);z-index:10000;padding:10px;}
.modal-content{
  background:#2c3e50; 
  color:#fff;
  padding:20px;
  border-radius:15px;
  display:flex;
  flex-direction:column;
  gap:15px;
  align-items:center;
  max-width:90%;
  width:450px;
  box-shadow:0 10px 30px rgba(0,0,0,0.7);
}
video{max-width:100%;border-radius:10px;background:#000}
.modal-actions{display:flex;gap:15px}
.modal button{padding:10px 18px;border-radius:8px;border:none;cursor:pointer;font-weight:600;}
#captureBtn{background:#00e676;color:#1a237e;}
#closeCameraBtn{background:#e74c3c;color:#fff;} 

/* 3D Secure Modal Styles */
.secure-modal-content{
    background:#ffffff;
    color:#1a237e;
    text-align:center;
    padding:30px;
    gap:20px;
}
.secure-modal-content h3{margin-top:0; color:#303f9f; font-size:1.5rem;}
#secureCodeInput{
    width:120px;
    text-align:center;
    font-size:1.5rem;
    letter-spacing:5px;
    margin:10px 0;
    border:2px solid #303f9f;
    background: #f1f4f8;
    color:#1a237e;
}
#secureSubmit{
    background:#303f9f;
    color:#ffffff;
    font-size:1rem;
    padding:12px 25px;
}
.secure-note{font-size:0.85rem;color:#757575;}


@keyframes spin{to{transform:rotate(360deg)}}
@media (max-width:650px){
  body{padding:10px;}
  .container{gap:15px;}
  .form-row{flex-direction:column;gap:15px;}
  .images{flex-direction:column;gap:15px;}
  .image-field{min-width:auto;}
  .brand h1{font-size:1.5rem}
  .actions{flex-direction:column;align-items:stretch;}
  #submitBtn{width:100%;}
}

